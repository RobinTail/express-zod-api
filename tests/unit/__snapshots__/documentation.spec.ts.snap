// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Documentation generator Issue #98 Should describe non-empty array 1`] = `
"openapi: 3.0.0
info:
  title: "Testing issue #98"
  version: 3.4.5
paths:
  /v1/getSomething:
    get:
      operationId: GetV1Getsomething
      responses:
        "200":
          description: GET /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      arr:
                        type: array
                        items:
                          type: string
                        minItems: 1
                    required:
                      - arr
                required:
                  - status
                  - data
        "400":
          description: GET /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      parameters:
        - name: arr
          in: query
          required: true
          description: GET /v1/getSomething parameter
          schema:
            type: array
            items:
              type: string
            minItems: 1
    post:
      operationId: PostV1Getsomething
      responses:
        "200":
          description: POST /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      arr:
                        type: array
                        items:
                          type: string
                        minItems: 1
                    required:
                      - arr
                required:
                  - status
                  - data
        "400":
          description: POST /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/getSomething request body
        content:
          application/json:
            schema:
              type: object
              properties:
                arr:
                  type: array
                  items:
                    type: string
                  minItems: 1
              required:
                - arr
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator Issue #98 should union schemas 1`] = `
"openapi: 3.0.0
info:
  title: "Testing issue #98"
  version: 3.4.5
paths:
  /v1/getSomething:
    post:
      operationId: PostV1Getsomething
      responses:
        "200":
          description: POST /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    oneOf:
                      - type: object
                        properties:
                          id:
                            type: string
                          field1:
                            type: string
                        required:
                          - id
                          - field1
                      - type: object
                        properties:
                          id:
                            type: string
                          field2:
                            type: string
                        required:
                          - id
                          - field2
                required:
                  - status
                  - data
        "400":
          description: POST /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/getSomething request body
        content:
          application/json:
            schema:
              oneOf:
                - type: object
                  properties:
                    id:
                      type: string
                    field1:
                      type: string
                  required:
                    - id
                    - field1
                - type: object
                  properties:
                    id:
                      type: string
                    field2:
                      type: string
                  required:
                    - id
                    - field2
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator Metadata Issue #827: withMeta() should be immutable 1`] = `
"openapi: 3.0.0
info:
  title: Testing Metadata:example on IO parameter
  version: 3.4.5
paths:
  /v1/addSomething:
    post:
      operationId: PostV1Addsomething
      responses:
        "200":
          description: POST /v1/addSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      a:
                        type: string
                      b:
                        type: string
                    required:
                      - a
                      - b
                    example:
                      a: first
                      b: prefix_first
                required:
                  - status
                  - data
              examples:
                example1:
                  value:
                    status: success
                    data:
                      a: first
                      b: prefix_first
                example2:
                  value:
                    status: success
                    data:
                      a: second
                      b: prefix_second
        "400":
          description: POST /v1/addSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/addSomething request body
        content:
          application/json:
            schema:
              type: object
              properties:
                a:
                  type: string
              required:
                - a
            examples:
              example1:
                value:
                  a: first
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator Metadata Issue #929: the location of the custom description should be on the param level 1`] = `
"openapi: 3.0.0
info:
  title: Testing Metadata:description
  version: 3.4.5
paths:
  /hris/employees:
    get:
      operationId: GetHrisEmployees
      responses:
        "200":
          description: GET /hris/employees Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetHrisEmployeesSuccessfulResponse"
        "400":
          description: GET /hris/employees Error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetHrisEmployeesErrorResponse"
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      parameters:
        - name: cursor
          in: query
          required: false
          description: An optional cursor string used for pagination. This can be
            retrieved from the \`next\` property of the previous page response.
          schema:
            $ref: "#/components/schemas/GetHrisEmployeesParameterCursor"
components:
  schemas:
    GetHrisEmployeesParameterCursor:
      type: string
      description: An optional cursor string used for pagination. This can be
        retrieved from the \`next\` property of the previous page response.
    GetHrisEmployeesSuccessfulResponse:
      type: object
      properties:
        status:
          type: string
          enum:
            - success
        data:
          type: object
          properties: {}
      required:
        - status
        - data
    GetHrisEmployeesErrorResponse:
      type: object
      properties:
        status:
          type: string
          enum:
            - error
        error:
          type: object
          properties:
            message:
              type: string
          required:
            - message
      required:
        - status
        - error
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator Metadata should merge endpoint handler examples with its middleware examples 1`] = `
"openapi: 3.0.0
info:
  title: Testing Metadata:example on IO schema + middleware
  version: 3.4.5
paths:
  /v1/getSomething:
    post:
      operationId: PostV1Getsomething
      responses:
        "200":
          description: POST /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      num:
                        type: number
                        format: double
                        minimum: 5e-324
                        exclusiveMinimum: false
                        maximum: 1.7976931348623157e+308
                        exclusiveMaximum: false
                    required:
                      - num
                    example:
                      num: 123
                required:
                  - status
                  - data
              examples:
                example1:
                  value:
                    status: success
                    data:
                      num: 123
        "400":
          description: POST /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/getSomething request body
        content:
          application/json:
            schema:
              allOf:
                - type: object
                  properties:
                    key:
                      type: string
                  required:
                    - key
                  example:
                    key: 1234-56789-01
                - type: object
                  properties:
                    str:
                      type: string
                  required:
                    - str
                  example:
                    str: test
            examples:
              example1:
                value:
                  key: 1234-56789-01
                  str: test
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator Metadata should pass over examples of each param from the whole IO schema examples (GET) 1`] = `
"openapi: 3.0.0
info:
  title: Testing Metadata:example on IO schema
  version: 3.4.5
paths:
  /v1/getSomething:
    get:
      operationId: GetV1Getsomething
      responses:
        "200":
          description: GET /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      numericStr:
                        type: string
                    required:
                      - numericStr
                    example:
                      numericStr: "123"
                required:
                  - status
                  - data
              examples:
                example1:
                  value:
                    status: success
                    data:
                      numericStr: "123"
        "400":
          description: GET /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      parameters:
        - name: strNum
          in: query
          required: true
          description: GET /v1/getSomething parameter
          schema:
            type: string
          examples:
            example1:
              value: "123"
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator Metadata should pass over examples of the whole IO schema (POST) 1`] = `
"openapi: 3.0.0
info:
  title: Testing Metadata:example on IO schema
  version: 3.4.5
paths:
  /v1/getSomething:
    post:
      operationId: PostV1Getsomething
      responses:
        "200":
          description: POST /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      numericStr:
                        type: string
                    required:
                      - numericStr
                    example:
                      numericStr: "123"
                required:
                  - status
                  - data
              examples:
                example1:
                  value:
                    status: success
                    data:
                      numericStr: "123"
        "400":
          description: POST /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/getSomething request body
        content:
          application/json:
            schema:
              type: object
              properties:
                strNum:
                  type: string
              required:
                - strNum
            examples:
              example1:
                value:
                  strNum: "123"
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator Metadata should pass over the example of an individual parameter 1`] = `
"openapi: 3.0.0
info:
  title: Testing Metadata:example on IO parameter
  version: 3.4.5
paths:
  /v1/getSomething:
    get:
      operationId: GetV1Getsomething
      responses:
        "200":
          description: GET /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      numericStr:
                        type: string
                        example: "123"
                    required:
                      - numericStr
                required:
                  - status
                  - data
        "400":
          description: GET /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      parameters:
        - name: strNum
          in: query
          required: true
          description: GET /v1/getSomething parameter
          schema:
            type: string
            example: "123"
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator Metadata should pass over the schema description 1`] = `
"openapi: 3.0.0
info:
  title: Testing Metadata:description
  version: 3.4.5
paths:
  /v1/getSomething:
    get:
      operationId: GetV1Getsomething
      responses:
        "200":
          description: GET /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      result:
                        type: integer
                        format: int64
                        minimum: 0
                        exclusiveMinimum: true
                        maximum: 9007199254740991
                        exclusiveMaximum: false
                        description: some positive integer
                    required:
                      - result
                required:
                  - status
                  - data
        "400":
          description: GET /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      parameters:
        - name: str
          in: query
          required: true
          description: here is the test
          schema:
            type: string
            description: here is the test
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator Route Path Params should handle route path params for GET request 1`] = `
"openapi: 3.0.0
info:
  title: Testing route path params
  version: 3.4.5
paths:
  "/v1/{name}":
    get:
      operationId: GetV1Name
      responses:
        "200":
          description: GET /v1/:name Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties: {}
                required:
                  - status
                  - data
        "400":
          description: GET /v1/:name Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      parameters:
        - name: name
          in: path
          required: true
          description: GET /v1/:name parameter
          schema:
            oneOf:
              - type: string
                enum:
                  - John
              - type: string
                enum:
                  - Jane
        - name: other
          in: query
          required: true
          description: GET /v1/:name parameter
          schema:
            type: boolean
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator Route Path Params should handle route path params for POST request 1`] = `
"openapi: 3.0.0
info:
  title: Testing route path params
  version: 3.4.5
paths:
  "/v1/{name}":
    post:
      operationId: PostV1Name
      responses:
        "200":
          description: POST /v1/:name Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties: {}
                required:
                  - status
                  - data
        "400":
          description: POST /v1/:name Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      parameters:
        - name: name
          in: path
          required: true
          description: POST /v1/:name parameter
          schema:
            oneOf:
              - type: string
                enum:
                  - John
              - type: string
                enum:
                  - Jane
      requestBody:
        description: POST /v1/:name request body
        content:
          application/json:
            schema:
              type: object
              properties:
                other:
                  type: boolean
              required:
                - other
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should ensure the uniq operation ids 1`] = `
"openapi: 3.0.0
info:
  title: Testing Operation IDs
  version: 3.4.5
paths:
  /v1/getSome/thing:
    get:
      operationId: GetV1GetsomeThing
      responses:
        "200":
          description: GET /v1/getSome/thing Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties: {}
                required:
                  - status
                  - data
        "400":
          description: GET /v1/getSome/thing Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      description: thing is the path segment
      summary: thing is the path segment
  "/v1/getSome/{thing}":
    get:
      operationId: GetV1GetsomeThing2
      responses:
        "200":
          description: GET /v1/getSome/:thing Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties: {}
                required:
                  - status
                  - data
        "400":
          description: GET /v1/getSome/:thing Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      description: thing is the path parameter
      summary: thing is the path parameter
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should ensure uniq security schema names 1`] = `
"openapi: 3.0.0
info:
  title: Testing Security
  version: 3.4.5
paths:
  /v1/getSomething:
    get:
      operationId: GetV1Getsomething
      responses:
        "200":
          description: GET /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      num:
                        type: number
                        format: double
                        minimum: 5e-324
                        exclusiveMinimum: false
                        maximum: 1.7976931348623157e+308
                        exclusiveMaximum: false
                    required:
                      - num
                required:
                  - status
                  - data
        "400":
          description: GET /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      parameters:
        - name: key
          in: query
          required: true
          description: GET /v1/getSomething parameter
          schema:
            type: string
        - name: str
          in: query
          required: true
          description: GET /v1/getSomething parameter
          schema:
            type: string
      security:
        - APIKEY_1: []
        - HTTP_1: []
  /v1/setSomething:
    post:
      operationId: PostV1Setsomething
      responses:
        "200":
          description: POST /v1/setSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties: {}
                required:
                  - status
                  - data
        "400":
          description: POST /v1/setSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/setSomething request body
        content:
          application/json:
            schema:
              allOf:
                - type: object
                  properties: {}
                - type: object
                  properties: {}
      security:
        - HTTP_1: []
          OAUTH2_1:
            - write
  /v1/updateSomething:
    put:
      operationId: PutV1Updatesomething
      responses:
        "200":
          description: PUT /v1/updateSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties: {}
                required:
                  - status
                  - data
        "400":
          description: PUT /v1/updateSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: PUT /v1/updateSomething request body
        content:
          application/json:
            schema:
              allOf:
                - type: object
                  properties: {}
                - type: object
                  properties: {}
      security:
        - HTTP_2: []
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes:
    APIKEY_1:
      type: apiKey
      in: query
      name: key
    HTTP_1:
      type: http
      scheme: bearer
    OAUTH2_1:
      type: oauth2
      flows:
        password:
          tokenUrl: https://some.url
          scopes:
            read: read something
            write: write something
    HTTP_2:
      type: http
      scheme: bearer
      bearerFormat: JWT
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should generate the correct schema for DELETE request without body 1`] = `
"openapi: 3.0.0
info:
  title: Testing DELETE request without body
  version: 3.4.5
paths:
  /v1/deleteSomething:
    delete:
      operationId: DeleteV1Deletesomething
      responses:
        "200":
          description: DELETE /v1/deleteSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      whatever:
                        type: number
                        format: double
                        minimum: 5e-324
                        exclusiveMinimum: false
                        maximum: 1.7976931348623157e+308
                        exclusiveMaximum: false
                    required:
                      - whatever
                required:
                  - status
                  - data
        "400":
          description: DELETE /v1/deleteSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should generate the correct schema for complex types 1`] = `
"openapi: 3.0.0
info:
  title: Testing Complex Types
  version: 3.4.5
paths:
  /v1/getSomething:
    get:
      operationId: GetV1Getsomething
      responses:
        "200":
          description: GET /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      literal:
                        type: string
                        enum:
                          - something
                      transformation:
                        type: number
                        format: double
                        minimum: 5e-324
                        exclusiveMinimum: false
                        maximum: 1.7976931348623157e+308
                        exclusiveMaximum: false
                    required:
                      - literal
                      - transformation
                required:
                  - status
                  - data
        "400":
          description: GET /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      parameters:
        - name: array
          in: query
          required: true
          description: GET /v1/getSomething parameter
          schema:
            type: array
            items:
              type: integer
              format: int64
              minimum: 0
              exclusiveMinimum: true
              maximum: 9007199254740991
              exclusiveMaximum: false
            minItems: 1
            maxItems: 3
        - name: unlimited
          in: query
          required: true
          description: GET /v1/getSomething parameter
          schema:
            type: array
            items:
              type: boolean
        - name: transformer
          in: query
          required: true
          description: GET /v1/getSomething parameter
          schema:
            type: string
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should generate the correct schema for discriminated union type 1`] = `
"openapi: 3.0.0
info:
  title: Testing Discriminated Union Type
  version: 3.4.5
paths:
  /v1/getSomething:
    post:
      operationId: PostV1Getsomething
      responses:
        "200":
          description: POST /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    discriminator:
                      propertyName: status
                    oneOf:
                      - type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - success
                          data:
                            format: any
                        required:
                          - status
                      - type: object
                        properties:
                          status:
                            type: string
                            enum:
                              - error
                          error:
                            type: object
                            properties:
                              message:
                                type: string
                            required:
                              - message
                        required:
                          - status
                          - error
                required:
                  - status
                  - data
        "400":
          description: POST /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/getSomething request body
        content:
          application/json:
            schema:
              discriminator:
                propertyName: type
              oneOf:
                - type: object
                  properties:
                    type:
                      type: string
                      enum:
                        - a
                    a:
                      type: string
                  required:
                    - type
                    - a
                - type: object
                  properties:
                    type:
                      type: string
                      enum:
                        - b
                    b:
                      type: string
                  required:
                    - type
                    - b
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should generate the correct schema for intersection type 1`] = `
"openapi: 3.0.0
info:
  title: Testing Intersection and And types
  version: 3.4.5
paths:
  /v1/getSomething:
    post:
      operationId: PostV1Getsomething
      responses:
        "200":
          description: POST /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      and:
                        allOf:
                          - type: object
                            properties:
                              five:
                                type: integer
                                format: int64
                                minimum: 0
                                exclusiveMinimum: false
                                maximum: 9007199254740991
                                exclusiveMaximum: false
                            required:
                              - five
                          - type: object
                            properties:
                              six:
                                type: string
                            required:
                              - six
                    required:
                      - and
                required:
                  - status
                  - data
        "400":
          description: POST /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/getSomething request body
        content:
          application/json:
            schema:
              type: object
              properties:
                intersection:
                  allOf:
                    - type: object
                      properties:
                        one:
                          type: string
                      required:
                        - one
                    - type: object
                      properties:
                        two:
                          type: string
                      required:
                        - two
              required:
                - intersection
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should generate the correct schema for nullable and optional types 1`] = `
"openapi: 3.0.0
info:
  title: Testing Nullable and Optional Types
  version: 3.4.5
paths:
  /v1/getSomething:
    get:
      operationId: GetV1Getsomething
      responses:
        "200":
          description: GET /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      nullable:
                        nullable: true
                        type: string
                    required:
                      - nullable
                required:
                  - status
                  - data
        "400":
          description: GET /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      parameters:
        - name: optional
          in: query
          required: false
          description: GET /v1/getSomething parameter
          schema:
            type: string
        - name: optDefault
          in: query
          required: false
          description: GET /v1/getSomething parameter
          schema:
            type: string
            default: test
        - name: nullish
          in: query
          required: false
          description: GET /v1/getSomething parameter
          schema:
            nullable: true
            type: boolean
        - name: nuDefault
          in: query
          required: false
          description: GET /v1/getSomething parameter
          schema:
            nullable: true
            type: integer
            format: int64
            minimum: 0
            exclusiveMinimum: true
            maximum: 9007199254740991
            exclusiveMaximum: false
            default: 123
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should generate the correct schema for union type 1`] = `
"openapi: 3.0.0
info:
  title: Testing Union and Or Types
  version: 3.4.5
paths:
  /v1/getSomething:
    post:
      operationId: PostV1Getsomething
      responses:
        "200":
          description: POST /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      or:
                        oneOf:
                          - type: string
                          - type: integer
                            format: int64
                            minimum: 0
                            exclusiveMinimum: true
                            maximum: 9007199254740991
                            exclusiveMaximum: false
                    required:
                      - or
                required:
                  - status
                  - data
        "400":
          description: POST /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/getSomething request body
        content:
          application/json:
            schema:
              type: object
              properties:
                union:
                  oneOf:
                    - type: object
                      properties:
                        one:
                          type: string
                        two:
                          type: integer
                          format: int64
                          minimum: 0
                          exclusiveMinimum: true
                          maximum: 9007199254740991
                          exclusiveMaximum: false
                      required:
                        - one
                        - two
                    - type: object
                      properties:
                        two:
                          type: integer
                          format: int64
                          minimum: -9007199254740991
                          exclusiveMinimum: false
                          maximum: 0
                          exclusiveMaximum: true
                        three:
                          type: string
                      required:
                        - two
                        - three
              required:
                - union
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should generate the correct schema of example routing 0 1`] = `
"openapi: 3.0.0
info:
  title: Example API
  version: 1.2.3
paths:
  /v1/user/retrieve:
    get:
      operationId: GetV1UserRetrieve
      responses:
        "200":
          description: GET /v1/user/retrieve Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        format: int64
                        minimum: 0
                        exclusiveMinimum: false
                        maximum: 9007199254740991
                        exclusiveMaximum: false
                      name:
                        type: string
                      features:
                        type: array
                        items:
                          type: object
                          properties:
                            title:
                              type: string
                            features:
                              $ref: "#/components/schemas/2048581c137c5b2130eb860e3ae37da196dfc25b"
                          required:
                            - title
                            - features
                    required:
                      - id
                      - name
                      - features
                required:
                  - status
                  - data
        "400":
          description: GET /v1/user/retrieve Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      description: Example user retrieval endpoint.
      summary: Retrieves the user.
      tags:
        - users
      parameters:
        - name: id
          in: query
          required: true
          description: a numeric string containing the id of the user
          schema:
            type: string
            pattern: /\\d+/
            description: a numeric string containing the id of the user
  "/v1/user/{id}":
    post:
      operationId: PostV1UserId
      responses:
        "200":
          description: POST /v1/user/:id Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      name:
                        type: string
                      createdAt:
                        description: YYYY-MM-DDTHH:mm:ss.sssZ
                        type: string
                        format: date-time
                        externalDocs:
                          url: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString
                    required:
                      - name
                      - createdAt
                    example:
                      name: John Doe
                      createdAt: 2021-12-31T00:00:00.000Z
                required:
                  - status
                  - data
              examples:
                example1:
                  value:
                    status: success
                    data:
                      name: John Doe
                      createdAt: 2021-12-31T00:00:00.000Z
        "400":
          description: POST /v1/user/:id Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      description: Changes the user record. Example user update endpoint.
      summary: Changes the user record. Example user update endp…
      tags:
        - users
      parameters:
        - name: id
          in: path
          required: true
          description: POST /v1/user/:id parameter
          schema:
            type: string
          examples:
            example1:
              value: "12"
      requestBody:
        description: POST /v1/user/:id request body
        content:
          application/json:
            schema:
              allOf:
                - type: object
                  properties:
                    key:
                      type: string
                      minLength: 1
                  required:
                    - key
                  example:
                    key: 1234-5678-90
                - type: object
                  properties:
                    name:
                      type: string
                      minLength: 1
                    birthday:
                      description: YYYY-MM-DDTHH:mm:ss.sssZ
                      type: string
                      format: date-time
                      pattern: ^\\d{4}-\\d{2}-\\d{2}(T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?)?Z?$
                      externalDocs:
                        url: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString
                  required:
                    - name
                    - birthday
                  example:
                    name: John Doe
                    birthday: 1963-04-21
            examples:
              example1:
                value:
                  key: 1234-5678-90
                  name: John Doe
                  birthday: 1963-04-21
      security:
        - APIKEY_1: []
          APIKEY_2: []
  /v1/user/list:
    get:
      operationId: GetV1UserList
      responses:
        "200":
          description: GET /v1/user/list Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                  required:
                    - name
              examples:
                example1:
                  value:
                    - name: Hunter Schafer
                    - name: Laverne Cox
                    - name: Patti Harrison
        "400":
          description: GET /v1/user/list Error response
          content:
            application/json:
              schema:
                type: string
              examples:
                example1:
                  value: Sample error message
      tags:
        - users
  /v1/avatar/send:
    get:
      operationId: GetV1AvatarSend
      responses:
        "200":
          description: GET /v1/avatar/send Successful response
          content:
            image/svg+xml:
              schema:
                type: string
        "400":
          description: GET /v1/avatar/send Error response
          content:
            text/plain:
              schema:
                type: string
      summary: Sends a file content.
      tags:
        - files
        - users
      parameters:
        - name: userId
          in: query
          required: true
          description: GET /v1/avatar/send parameter
          schema:
            type: string
            pattern: /\\d+/
  /v1/avatar/stream:
    get:
      operationId: GetV1AvatarStream
      responses:
        "200":
          description: GET /v1/avatar/stream Successful response
          content:
            image/*:
              schema:
                type: string
                format: binary
        "400":
          description: GET /v1/avatar/stream Error response
          content:
            text/plain:
              schema:
                type: string
      summary: Streams a file content.
      tags:
        - users
        - files
      parameters:
        - name: userId
          in: query
          required: true
          description: GET /v1/avatar/stream parameter
          schema:
            type: string
            pattern: /\\d+/
  /v1/avatar/upload:
    post:
      operationId: PostV1AvatarUpload
      responses:
        "200":
          description: POST /v1/avatar/upload Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      name:
                        type: string
                      size:
                        type: integer
                        format: int64
                        minimum: 0
                        exclusiveMinimum: false
                        maximum: 9007199254740991
                        exclusiveMaximum: false
                      mime:
                        type: string
                      hash:
                        type: string
                      otherInputs:
                        type: object
                        additionalProperties:
                          format: any
                    required:
                      - name
                      - size
                      - mime
                      - hash
                      - otherInputs
                required:
                  - status
                  - data
        "400":
          description: POST /v1/avatar/upload Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      description: Handles a file upload.
      summary: Handles a file upload.
      tags:
        - files
      requestBody:
        description: POST /v1/avatar/upload request body
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                avatar:
                  type: string
                  format: binary
              required:
                - avatar
components:
  schemas:
    2048581c137c5b2130eb860e3ae37da196dfc25b:
      type: array
      items:
        type: object
        properties:
          title:
            type: string
          features:
            $ref: "#/components/schemas/2048581c137c5b2130eb860e3ae37da196dfc25b"
        required:
          - title
          - features
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes:
    APIKEY_1:
      type: apiKey
      in: query
      name: key
    APIKEY_2:
      type: apiKey
      in: header
      name: token
  links: {}
  callbacks: {}
tags:
  - name: users
    description: Everything about the users
  - name: files
    description: Everything about the files processing
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should generate the correct schema of example routing 1 1`] = `
"openapi: 3.0.0
info:
  title: Example API
  version: 1.2.3
paths:
  /v1/user/retrieve:
    get:
      operationId: GetV1UserRetrieve
      responses:
        "200":
          description: GET /v1/user/retrieve Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetV1UserRetrieveSuccessfulResponse"
        "400":
          description: GET /v1/user/retrieve Error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetV1UserRetrieveErrorResponse"
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      description: Example user retrieval endpoint.
      summary: Retrieves the user.
      tags:
        - users
      parameters:
        - name: id
          in: query
          required: true
          description: a numeric string containing the id of the user
          schema:
            $ref: "#/components/schemas/GetV1UserRetrieveParameterId"
  "/v1/user/{id}":
    post:
      operationId: PostV1UserId
      responses:
        "200":
          description: POST /v1/user/:id Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PostV1UserIdSuccessfulResponse"
              examples:
                example1:
                  value:
                    status: success
                    data:
                      name: John Doe
                      createdAt: 2021-12-31T00:00:00.000Z
        "400":
          description: POST /v1/user/:id Error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PostV1UserIdErrorResponse"
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      description: Changes the user record. Example user update endpoint.
      summary: Changes the user record. Example user update endp…
      tags:
        - users
      parameters:
        - name: id
          in: path
          required: true
          description: POST /v1/user/:id parameter
          schema:
            $ref: "#/components/schemas/PostV1UserIdParameterId"
          examples:
            example1:
              value: "12"
      requestBody:
        description: POST /v1/user/:id request body
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PostV1UserIdRequestBody"
            examples:
              example1:
                value:
                  key: 1234-5678-90
                  name: John Doe
                  birthday: 1963-04-21
      security:
        - APIKEY_1: []
          APIKEY_2: []
  /v1/user/list:
    get:
      operationId: GetV1UserList
      responses:
        "200":
          description: GET /v1/user/list Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetV1UserListSuccessfulResponse"
              examples:
                example1:
                  value:
                    - name: Hunter Schafer
                    - name: Laverne Cox
                    - name: Patti Harrison
        "400":
          description: GET /v1/user/list Error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetV1UserListErrorResponse"
              examples:
                example1:
                  value: Sample error message
      tags:
        - users
  /v1/avatar/send:
    get:
      operationId: GetV1AvatarSend
      responses:
        "200":
          description: GET /v1/avatar/send Successful response
          content:
            image/svg+xml:
              schema:
                $ref: "#/components/schemas/GetV1AvatarSendSuccessfulResponse"
        "400":
          description: GET /v1/avatar/send Error response
          content:
            text/plain:
              schema:
                $ref: "#/components/schemas/GetV1AvatarSendErrorResponse"
      summary: Sends a file content.
      tags:
        - files
        - users
      parameters:
        - name: userId
          in: query
          required: true
          description: GET /v1/avatar/send parameter
          schema:
            $ref: "#/components/schemas/GetV1AvatarSendParameterUserid"
  /v1/avatar/stream:
    get:
      operationId: GetV1AvatarStream
      responses:
        "200":
          description: GET /v1/avatar/stream Successful response
          content:
            image/*:
              schema:
                $ref: "#/components/schemas/GetV1AvatarStreamSuccessfulResponse"
        "400":
          description: GET /v1/avatar/stream Error response
          content:
            text/plain:
              schema:
                $ref: "#/components/schemas/GetV1AvatarStreamErrorResponse"
      summary: Streams a file content.
      tags:
        - users
        - files
      parameters:
        - name: userId
          in: query
          required: true
          description: GET /v1/avatar/stream parameter
          schema:
            $ref: "#/components/schemas/GetV1AvatarStreamParameterUserid"
  /v1/avatar/upload:
    post:
      operationId: PostV1AvatarUpload
      responses:
        "200":
          description: POST /v1/avatar/upload Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PostV1AvatarUploadSuccessfulResponse"
        "400":
          description: POST /v1/avatar/upload Error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PostV1AvatarUploadErrorResponse"
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      description: Handles a file upload.
      summary: Handles a file upload.
      tags:
        - files
      requestBody:
        description: POST /v1/avatar/upload request body
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PostV1AvatarUploadRequestBody"
components:
  schemas:
    GetV1UserRetrieveParameterId:
      type: string
      pattern: /\\d+/
      description: a numeric string containing the id of the user
    2048581c137c5b2130eb860e3ae37da196dfc25b:
      type: array
      items:
        type: object
        properties:
          title:
            type: string
          features:
            $ref: "#/components/schemas/2048581c137c5b2130eb860e3ae37da196dfc25b"
        required:
          - title
          - features
    GetV1UserRetrieveSuccessfulResponse:
      type: object
      properties:
        status:
          type: string
          enum:
            - success
        data:
          type: object
          properties:
            id:
              type: integer
              format: int64
              minimum: 0
              exclusiveMinimum: false
              maximum: 9007199254740991
              exclusiveMaximum: false
            name:
              type: string
            features:
              type: array
              items:
                type: object
                properties:
                  title:
                    type: string
                  features:
                    $ref: "#/components/schemas/2048581c137c5b2130eb860e3ae37da196dfc25b"
                required:
                  - title
                  - features
          required:
            - id
            - name
            - features
      required:
        - status
        - data
    GetV1UserRetrieveErrorResponse:
      type: object
      properties:
        status:
          type: string
          enum:
            - error
        error:
          type: object
          properties:
            message:
              type: string
          required:
            - message
      required:
        - status
        - error
    PostV1UserIdParameterId:
      type: string
    PostV1UserIdSuccessfulResponse:
      type: object
      properties:
        status:
          type: string
          enum:
            - success
        data:
          type: object
          properties:
            name:
              type: string
            createdAt:
              description: YYYY-MM-DDTHH:mm:ss.sssZ
              type: string
              format: date-time
              externalDocs:
                url: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString
          required:
            - name
            - createdAt
          example:
            name: John Doe
            createdAt: 2021-12-31T00:00:00.000Z
      required:
        - status
        - data
    PostV1UserIdErrorResponse:
      type: object
      properties:
        status:
          type: string
          enum:
            - error
        error:
          type: object
          properties:
            message:
              type: string
          required:
            - message
      required:
        - status
        - error
    PostV1UserIdRequestBody:
      allOf:
        - type: object
          properties:
            key:
              type: string
              minLength: 1
          required:
            - key
          example:
            key: 1234-5678-90
        - type: object
          properties:
            name:
              type: string
              minLength: 1
            birthday:
              description: YYYY-MM-DDTHH:mm:ss.sssZ
              type: string
              format: date-time
              pattern: ^\\d{4}-\\d{2}-\\d{2}(T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?)?Z?$
              externalDocs:
                url: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString
          required:
            - name
            - birthday
          example:
            name: John Doe
            birthday: 1963-04-21
    GetV1UserListSuccessfulResponse:
      type: array
      items:
        type: object
        properties:
          name:
            type: string
        required:
          - name
    GetV1UserListErrorResponse:
      type: string
    GetV1AvatarSendParameterUserid:
      type: string
      pattern: /\\d+/
    GetV1AvatarSendSuccessfulResponse:
      type: string
    GetV1AvatarSendErrorResponse:
      type: string
    GetV1AvatarStreamParameterUserid:
      type: string
      pattern: /\\d+/
    GetV1AvatarStreamSuccessfulResponse:
      type: string
      format: binary
    GetV1AvatarStreamErrorResponse:
      type: string
    PostV1AvatarUploadSuccessfulResponse:
      type: object
      properties:
        status:
          type: string
          enum:
            - success
        data:
          type: object
          properties:
            name:
              type: string
            size:
              type: integer
              format: int64
              minimum: 0
              exclusiveMinimum: false
              maximum: 9007199254740991
              exclusiveMaximum: false
            mime:
              type: string
            hash:
              type: string
            otherInputs:
              type: object
              additionalProperties:
                format: any
          required:
            - name
            - size
            - mime
            - hash
            - otherInputs
      required:
        - status
        - data
    PostV1AvatarUploadErrorResponse:
      type: object
      properties:
        status:
          type: string
          enum:
            - error
        error:
          type: object
          properties:
            message:
              type: string
          required:
            - message
      required:
        - status
        - error
    PostV1AvatarUploadRequestBody:
      type: object
      properties:
        avatar:
          type: string
          format: binary
      required:
        - avatar
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes:
    APIKEY_1:
      type: apiKey
      in: query
      name: key
    APIKEY_2:
      type: apiKey
      in: header
      name: token
  links: {}
  callbacks: {}
tags:
  - name: users
    description: Everything about the users
  - name: files
    description: Everything about the files processing
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should handle bigint, boolean, date, null and readonly 1`] = `
"openapi: 3.0.0
info:
  title: Testing additional types
  version: 3.4.5
paths:
  /v1/getSomething:
    post:
      operationId: PostV1Getsomething
      responses:
        "200":
          description: POST /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      "null":
                        type: string
                        nullable: true
                        format: "null"
                      dateOut:
                        description: YYYY-MM-DDTHH:mm:ss.sssZ
                        type: string
                        format: date-time
                        externalDocs:
                          url: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString
                    required:
                      - "null"
                      - dateOut
                required:
                  - status
                  - data
        "400":
          description: POST /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/getSomething request body
        content:
          application/json:
            schema:
              type: object
              properties:
                bigint:
                  type: integer
                  format: bigint
                boolean:
                  type: boolean
                dateIn:
                  description: YYYY-MM-DDTHH:mm:ss.sssZ
                  type: string
                  format: date-time
                  pattern: ^\\d{4}-\\d{2}-\\d{2}(T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?)?Z?$
                  externalDocs:
                    url: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString
              required:
                - bigint
                - boolean
                - dateIn
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should handle circular schemas via z.lazy() 1`] = `
"openapi: 3.0.0
info:
  title: Testing Lazy
  version: 3.4.5
paths:
  /v1/getSomething:
    post:
      operationId: PostV1Getsomething
      responses:
        "200":
          description: POST /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      zodExample:
                        type: object
                        properties:
                          name:
                            type: string
                          subcategories:
                            $ref: "#/components/schemas/2048581c137c5b2130eb860e3ae37da196dfc25b"
                        required:
                          - name
                          - subcategories
                    required:
                      - zodExample
                required:
                  - status
                  - data
        "400":
          description: POST /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/getSomething request body
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
              required:
                - name
components:
  schemas:
    2048581c137c5b2130eb860e3ae37da196dfc25b:
      type: array
      items:
        type: object
        properties:
          name:
            type: string
          subcategories:
            $ref: "#/components/schemas/2048581c137c5b2130eb860e3ae37da196dfc25b"
        required:
          - name
          - subcategories
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should handle custom mime types and status codes 1`] = `
"openapi: 3.0.0
info:
  title: Testing MIME types and status codes
  version: 3.4.5
paths:
  /v1/getSomething:
    get:
      operationId: GetV1Getsomething
      responses:
        "201":
          description: GET /v1/getSomething Successful response
          content:
            application/json:
              schema: &a1
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - OK
                  result:
                    type: object
                    properties: {}
                required:
                  - status
                  - result
            text/vnd.yaml:
              schema: *a1
        "403":
          description: GET /v1/getSomething Error response
          content:
            text/vnd.yaml:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - NOT OK
                required:
                  - status
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should handle different number types 1`] = `
"openapi: 3.0.0
info:
  title: Testing numbers
  version: 3.4.5
paths:
  /v1/getSomething:
    post:
      operationId: PostV1Getsomething
      responses:
        "200":
          description: POST /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      bigint:
                        type: integer
                        format: bigint
                    required:
                      - bigint
                required:
                  - status
                  - data
        "400":
          description: POST /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/getSomething request body
        content:
          application/json:
            schema:
              type: object
              properties:
                double:
                  type: number
                  format: double
                  minimum: 5e-324
                  exclusiveMinimum: false
                  maximum: 1.7976931348623157e+308
                  exclusiveMaximum: false
                doublePositive:
                  type: number
                  format: double
                  minimum: 0
                  exclusiveMinimum: true
                  maximum: 1.7976931348623157e+308
                  exclusiveMaximum: false
                doubleNegative:
                  type: number
                  format: double
                  minimum: 5e-324
                  exclusiveMinimum: false
                  maximum: 0
                  exclusiveMaximum: true
                doubleLimited:
                  type: number
                  format: double
                  minimum: -0.5
                  exclusiveMinimum: false
                  maximum: 0.5
                  exclusiveMaximum: false
                int:
                  type: integer
                  format: int64
                  minimum: -9007199254740991
                  exclusiveMinimum: false
                  maximum: 9007199254740991
                  exclusiveMaximum: false
                intPositive:
                  type: integer
                  format: int64
                  minimum: 0
                  exclusiveMinimum: true
                  maximum: 9007199254740991
                  exclusiveMaximum: false
                intNegative:
                  type: integer
                  format: int64
                  minimum: -9007199254740991
                  exclusiveMinimum: false
                  maximum: 0
                  exclusiveMaximum: true
                intLimited:
                  type: integer
                  format: int64
                  minimum: -100
                  exclusiveMinimum: false
                  maximum: 100
                  exclusiveMaximum: false
                zero:
                  type: integer
                  format: int64
                  minimum: 0
                  exclusiveMinimum: false
                  maximum: 0
                  exclusiveMaximum: false
              required:
                - double
                - doublePositive
                - doubleNegative
                - doubleLimited
                - int
                - intPositive
                - intNegative
                - intLimited
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should handle different string types 1`] = `
"openapi: 3.0.0
info:
  title: Testing strings
  version: 3.4.5
paths:
  /v1/getSomething:
    post:
      operationId: PostV1Getsomething
      responses:
        "200":
          description: POST /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      nonempty:
                        type: string
                        minLength: 1
                    required:
                      - nonempty
                required:
                  - status
                  - data
        "400":
          description: POST /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/getSomething request body
        content:
          application/json:
            schema:
              type: object
              properties:
                regular:
                  type: string
                min:
                  type: string
                  minLength: 1
                max:
                  type: string
                  maxLength: 15
                range:
                  type: string
                  minLength: 2
                  maxLength: 3
                email:
                  type: string
                  format: email
                uuid:
                  type: string
                  format: uuid
                cuid:
                  type: string
                  format: cuid
                cuid2:
                  type: string
                  format: cuid2
                ulid:
                  type: string
                  format: ulid
                ip:
                  type: string
                  format: ip
                emoji:
                  type: string
                  format: emoji
                url:
                  type: string
                  format: url
                numeric:
                  type: string
                  pattern: /\\d+/
                combined:
                  type: string
                  format: email
                  minLength: 1
                  maxLength: 90
                  pattern: /.*@example\\.com/is
              required:
                - regular
                - min
                - max
                - range
                - email
                - uuid
                - cuid
                - cuid2
                - ulid
                - ip
                - emoji
                - url
                - numeric
                - combined
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should handle enum types 1`] = `
"openapi: 3.0.0
info:
  title: Testing enums
  version: 3.4.5
paths:
  /v1/getSomething:
    post:
      operationId: PostV1Getsomething
      responses:
        "200":
          description: POST /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      nativeEnum:
                        type: number
                        enum:
                          - 1
                          - 2
                    required:
                      - nativeEnum
                required:
                  - status
                  - data
        "400":
          description: POST /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/getSomething request body
        content:
          application/json:
            schema:
              type: object
              properties:
                regularEnum:
                  type: string
                  enum:
                    - ABC
                    - DEF
              required:
                - regularEnum
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should handle record 1`] = `
"openapi: 3.0.0
info:
  title: Testing record
  version: 3.4.5
paths:
  /v1/getSomething:
    post:
      operationId: PostV1Getsomething
      responses:
        "200":
          description: POST /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      simple:
                        type: object
                        additionalProperties:
                          type: integer
                          format: int64
                          minimum: -9007199254740991
                          exclusiveMinimum: false
                          maximum: 9007199254740991
                          exclusiveMaximum: false
                      stringy:
                        type: object
                        additionalProperties:
                          type: boolean
                      numeric:
                        type: object
                        additionalProperties:
                          type: boolean
                      literal:
                        type: object
                        properties:
                          only:
                            type: boolean
                        required:
                          - only
                      union:
                        type: object
                        properties:
                          option1:
                            type: boolean
                          option2:
                            type: boolean
                        required:
                          - option1
                          - option2
                      enum:
                        type: object
                        properties:
                          option1:
                            type: boolean
                          option2:
                            type: boolean
                        required:
                          - option1
                          - option2
                    required:
                      - simple
                      - stringy
                      - numeric
                      - literal
                      - union
                      - enum
                required:
                  - status
                  - data
        "400":
          description: POST /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/getSomething request body
        content:
          application/json:
            schema:
              type: object
              properties: {}
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should handle transformation schema in output 1`] = `
"openapi: 3.0.0
info:
  title: Testing Transformation in response schema
  version: 3.4.5
paths:
  /v1/getSomething:
    post:
      operationId: PostV1Getsomething
      responses:
        "200":
          description: POST /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      transform:
                        type: number
                    required:
                      - transform
                required:
                  - status
                  - data
        "400":
          description: POST /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/getSomething request body
        content:
          application/json:
            schema:
              type: object
              properties:
                one:
                  type: string
                two:
                  type: integer
                  format: int64
                  minimum: 0
                  exclusiveMinimum: true
                  maximum: 9007199254740991
                  exclusiveMaximum: false
              required:
                - one
                - two
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should handle tuples 1`] = `
"openapi: 3.0.0
info:
  title: Testing tuples
  version: 3.4.5
paths:
  /v1/getSomething:
    post:
      operationId: PostV1Getsomething
      responses:
        "200":
          description: POST /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      empty:
                        type: array
                        minItems: 0
                        maxItems: 0
                        items:
                          oneOf: []
                          format: tuple
                    required:
                      - empty
                required:
                  - status
                  - data
        "400":
          description: POST /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      requestBody:
        description: POST /v1/getSomething request body
        content:
          application/json:
            schema:
              type: object
              properties:
                ofOne:
                  type: array
                  minItems: 1
                  maxItems: 1
                  items:
                    oneOf:
                      - type: boolean
                    format: tuple
                    description: "0: boolean"
                ofStrings:
                  type: array
                  minItems: 2
                  maxItems: 2
                  items:
                    oneOf:
                      - type: string
                      - nullable: true
                        type: string
                    format: tuple
                    description: "0: string, 1: string"
                complex:
                  type: array
                  minItems: 3
                  maxItems: 3
                  items:
                    oneOf:
                      - type: boolean
                      - type: string
                      - type: integer
                        format: int64
                        minimum: 0
                        exclusiveMinimum: true
                        maximum: 9007199254740991
                        exclusiveMaximum: false
                    format: tuple
                    description: "0: boolean, 1: string, 2: integer"
              required:
                - ofOne
                - ofStrings
                - complex
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should handle type any 1`] = `
"openapi: 3.0.0
info:
  title: Testing type any
  version: 3.4.5
paths:
  /v1/getSomething:
    get:
      operationId: GetV1Getsomething
      responses:
        "200":
          description: GET /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      any:
                        format: any
                required:
                  - status
                  - data
        "400":
          description: GET /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      parameters:
        - name: any
          in: query
          required: false
          description: GET /v1/getSomething parameter
          schema:
            format: any
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;

exports[`Documentation generator getSpecAsYaml() should handle z.preprocess() 1`] = `
"openapi: 3.0.0
info:
  title: Testing z.preprocess()
  version: 3.4.5
paths:
  /v1/getSomething:
    get:
      operationId: GetV1Getsomething
      responses:
        "200":
          description: GET /v1/getSomething Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - success
                  data:
                    type: object
                    properties:
                      boolean:
                        type: boolean
                        nullable: true
                required:
                  - status
                  - data
        "400":
          description: GET /v1/getSomething Error response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum:
                      - error
                  error:
                    type: object
                    properties:
                      message:
                        type: string
                    required:
                      - message
                required:
                  - status
                  - error
              examples:
                example1:
                  value:
                    status: error
                    error:
                      message: Sample error message
      parameters:
        - name: string
          in: query
          required: false
          description: GET /v1/getSomething parameter
          schema:
            format: string (preprocessed)
        - name: number
          in: query
          required: true
          description: GET /v1/getSomething parameter
          schema:
            format: int64 (preprocessed)
            minimum: 0
            exclusiveMinimum: false
            maximum: 9007199254740991
            exclusiveMaximum: false
components:
  schemas: {}
  responses: {}
  parameters: {}
  examples: {}
  requestBodies: {}
  headers: {}
  securitySchemes: {}
  links: {}
  callbacks: {}
tags: []
servers:
  - url: http://example.com
"
`;
